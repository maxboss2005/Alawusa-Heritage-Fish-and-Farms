<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Home | Alawusa Heritage Fish & Farms</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
    <!-- AOS CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      rel="shortcut icon"
      href="Alawusa heritage icon - Icon.png"
      type="img"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta
      name="description"
      content="Alawusa Heritage Fish & Farms offers premium catfish, frozen fish, fresh farm products, farming tips, and online ordering nationwide."
    />
    <meta
      name="keywords"
      content="Alawusa Heritage, fish farm Nigeria, catfish farm, Alawusa, Alawusa fish, farms in Lagos, fish supply Nigeria"
    />
    <meta name="author" content="Alawusa Heritage Fish & Farms" />

    <meta property="og:title" content="Alawusa Heritage Fish & Farms" />
    <meta
      property="og:description"
      content="Premium catfish and farm products delivered fresh."
    />
    <meta property="og:url" content="https://alawusaheritage.com.ng" />
    <meta property="og:type" content="website" />

    <script type="module" src="homepage.js"></script>
    
    <style>
      :root {
        --primary-color: #1a4d2e;
        --secondary-color: #28a745;
        --accent-color: #ffc107;
        --light-bg: #f9f9f9;
        --dark-text: #333;
        --light-text: #fff;
        --border-radius: 8px;
        --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s ease;
      }
      /* Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        max-width: 100%;
        overflow-x: hidden;
        font-family: "Poppins", sans-serif;
        line-height: 1.6;
        color: #333;
        opacity: 0;
        animation: fadeIn 0.5s ease forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Header Styles */
      .main-header {
        position: sticky;
        top: 0;
        z-index: 1000;
        background: white;
        box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
      }

      .top-bar {
        background: #2e802e;
        color: white;
        padding: 8px 20px;
        font-size: 14px;
        text-align: center;
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }

      .contact-info span {
        margin: 0 10px;
      }

      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 5%;
        background-color: #fff;
      }

      .logo img {
        width: 100px;
        height: auto;
      }

      /* Navigation */
      .desktop-nav ul {
        display: flex;
        list-style: none;
        gap: 25px;
      }

      .desktop-nav ul li a {
        text-decoration: none;
        font-weight: 600;
        color: #444;
        transition: color 0.3s;
        font-size: 16px;
        position: relative;
      }

      .desktop-nav ul li a:hover,
      .desktop-nav ul li a.active {
        color: #15921b;
      }

      .desktop-nav ul li a::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -5px;
        left: 0;
        background-color: #15921b;
        transition: width 0.3s ease;
      }

      .desktop-nav ul li a:hover::after {
        width: 100%;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .shopping-cart {
        position: relative;
        display: flex;
        align-items: center;
      }

      .cart-count {
        background: #e74c3c;
        color: white;
        border-radius: 50%;
        padding: 2px 6px;
        font-size: 12px;
        position: absolute;
        top: -8px;
        right: -8px;
        min-width: 18px;
        text-align: center;
      }

      .menu-icon {
        display: none;
        font-size: 24px;
        cursor: pointer;
        color: #444;
      }

      /* Hero Section */
      .hero {
        position: relative;
        height: 70vh;
        background: url("background\ pic\ 1.webp") center/cover no-repeat;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        margin-top: 0;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.45);
      }

      .hero-content {
        position: relative;
        color: white;
        max-width: 800px;
        padding: 0 20px;
      }

      .hero-content h1 {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 20px;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
      }

      .hero-content p {
        font-size: 1.3rem;
        margin-bottom: 15px;
        color: #f0f0f0;
      }

      .btn {
        display: inline-block;
        padding: 12px 30px;
        background-color: #4caf50;
        color: white;
        text-decoration: none;
        font-weight: bold;
        border-radius: 30px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        margin-bottom: 15px;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
      }

      .btn:hover {
        background-color: #388e3c;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      }

      .btn-sm {
        display: inline-block;
        padding: 12px 30px;
        border: 1px solid green;
        border-radius: 30px;
        text-decoration: none;
        color: rgb(68, 68, 68);
        font-weight: bold;
        transition: background-color 0.3s, color 0.3s, border 0.3s;
      }

      .btn-sm:hover {
        background-color: #4caf50;
        color: white;
        border: none;
      }

      /* Categories Section */
      .categories {
        padding: 80px 0;
        background: #f9f9f9;
      }

      .small-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .title {
        font-family: "Poppins", sans-serif;
        color: #2e802e;
        text-align: center;
        margin: 0 auto 60px;
        position: relative;
        font-size: 2.2rem;
        font-weight: 600;
      }

      .title::after {
        content: "";
        background: #ff6b6b;
        width: 80px;
        height: 4px;
        border-radius: 2px;
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
      }

      .row {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 30px;
      }

      .col-3 {
        flex: 1;
        min-width: 250px;
        max-width: 300px;
        text-align: center;
        transition: transform 0.3s;
      }

      .col-3:hover {
        transform: translateY(-10px);
      }

      .col-3 img {
        width: 100%;
        height: 200px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }

      .col-3:hover img {
        transform: scale(1.05);
      }

      .col-3 h4 {
        margin-top: 15px;
        font-size: 1.2rem;
        color: #444;
        font-weight: 600;
      }

      /* Products Section */
      .products-section {
        padding: 80px 0;
      }

      .col-4 {
        flex: 1;
        min-width: 250px;
        max-width: 280px;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        transition: all 0.3s;
        margin-bottom: 30px;
      }

      .col-4:hover {
        transform: translateY(-10px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .col-4 img {
        width: 100%;
        height: 200px;
      }

      .product-info {
        padding: 20px;
      }

      .col-4 h4 {
        font-size: 1.1rem;
        margin-bottom: 10px;
        color: #333;
        font-weight: 600;
      }

      .rating {
        color: #ffc107;
        margin-bottom: 10px;
      }

      .price {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2e802e;
      }

      /* Slideshow Section */
      .slideshow-section {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 40px;
        padding: 60px 5%;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        margin: 80px 0;
      }

      .slideshow-left {
        flex: 1;
        position: relative;
        height: 350px;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .fade-slide {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        transition: opacity 1s ease-in-out;
      }

      .fade-slide.active {
        opacity: 1;
      }

      .fade-slide img {
        width: 100%;
        height: 100%;
      }

      .slideshow-right {
        flex: 1;
        padding: 0 20px;
      }

      .slideshow-right h2 {
        font-size: 2.2rem;
        margin-bottom: 20px;
        color: #2e802e;
        font-weight: 600;
      }

      .slideshow-right p {
        font-size: 1.1rem;
        margin-bottom: 25px;
        color: #555;
        line-height: 1.6;
      }

      /* Agencies Section */
      .agencies {
        padding: 80px 0;
        background: #f9f9f9;
      }

      .agency-logos {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 40px;
      }

      .agency-logos img {
        height: 80px;
        width: auto;
        filter: grayscale(0%);
        opacity: 1;
        transition: all 0.3s;
      }

      .agency-logos img:hover {
        filter: grayscale(100%);
        opacity: 1;
      }

      /* Footer */
      .footer {
        background: #0f2c0f;
        color: #8a8a8a;
        padding: 60px 0 20px;
      }

      .footer-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }

      .footer-col {
        flex: 1;
        min-width: 250px;
        margin-bottom: 30px;
      }

      .footer-col h3 {
        color: #fff;
        margin-bottom: 20px;
        font-size: 1.3rem;
        font-weight: 600;
      }

      .footer-col ul {
        list-style: none;
      }

      .footer-col ul li {
        margin-bottom: 10px;
      }

      .footer-col ul li a {
        color: #8a8a8a;
        text-decoration: none;
        transition: color 0.3s;
      }

      .footer-col ul li a:hover {
        color: #4caf50;
      }

      .social-links {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .social-links a {
        display: inline-block;
        width: 40px;
        height: 40px;
        background: #333;
        border-radius: 50%;
        text-align: center;
        line-height: 40px;
        color: white;
        transition: all 0.3s;
      }

      .social-links a:hover {
        background: #4caf50;
        transform: translateY(-3px);
      }

      .copyright {
        text-align: center;
        padding-top: 20px;
        margin-top: 0px;
        border-top: 1px solid #333;
        color: #8a8a8a;
        font-size: 14px;
      }

      /* Mobile Menu */
      .mobile-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 280px;
        height: 100%;
        background: #1a4720;
        z-index: 2000;
        transition: right 0.4s ease;
        overflow-y: auto;
        padding: 20px;
      }

      .mobile-menu.open {
        right: 0;
      }

      .mobile-menu .close-btn {
        background: none;
        border: none;
        color: white;
        font-size: 28px;
        position: absolute;
        top: 15px;
        right: 20px;
        cursor: pointer;
      }

      .mobile-menu ul {
        list-style: none;
        margin-top: 60px;
      }

      .mobile-menu ul li {
        margin-bottom: 15px;
      }

      .mobile-menu ul li a {
        color: white;
        text-decoration: none;
        font-size: 18px;
        display: block;
        padding: 10px;
        border-radius: 5px;
        transition: background 0.3s;
      }

      .mobile-menu ul li a:hover {
        background: #2e802e;
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease;
        padding-left: 20px;
      }

      .accordion-content.open {
        max-height: 200px;
      }

      /* Responsive Styles */
      @media (max-width: 1024px) {
        .hero-content h1 {
          font-size: 2.8rem;
        }

        .slideshow-section {
          flex-direction: column;
          text-align: center;
        }

        .slideshow-left {
          width: 100%;
          margin-bottom: 30px;
        }
      }

      @media (max-width: 1000px) {
        .desktop-nav {
          display: none;
        }
        .menu-icon {
          display: block;
        }
      }

      @media (max-width: 768px) {
        .top-bar {
          flex-direction: column;
          gap: 5px;
          font-size: 12px;
        }

        .desktop-nav {
          display: none;
        }

        .menu-icon {
          display: block;
        }

        .hero {
          height: 60vh;
        }

        .hero-content h1 {
          font-size: 2.2rem;
        }

        .hero-content p {
          font-size: 1.1rem;
        }

        .title {
          font-size: 1.8rem;
        }

        .slideshow-right h2 {
          font-size: 1.8rem;
        }
      }

      @media (max-width: 480px) {
        .hero {
          height: 50vh;
        }

        .hero-content h1 {
          font-size: 1.8rem;
        }

        .btn {
          padding: 10px 20px;
          font-size: 14px;
        }

        .btn-sm {
          padding: 10px 20px;
          font-size: 14px;
        }

        .title {
          font-size: 1.6rem;
        }

        .col-3,
        .col-4 {
          min-width: 100%;
        }
      }

      /* Footer */
      .footer {
        background: var(--primary-color);
        color: var(--light-text);
        padding: 60px 0 20px;
      }

      .footer-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 40px;
        margin-bottom: 40px;
      }

      .footer-col {
        flex: 1;
        min-width: 200px;
      }

      .footer-col h3 {
        font-size: 20px;
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 10px;
      }

      .footer-col h3::after {
        content: "";
        position: absolute;
        left: 0;
        bottom: 0;
        width: 50px;
        height: 2px;
        background: var(--secondary-color);
      }

      .footer-col ul {
        list-style: none;
      }

      .footer-col ul li {
        margin-bottom: 10px;
      }

      .footer-col ul li a {
        color: #ddd;
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-col ul li a:hover {
        color: var(--secondary-color);
        padding-left: 5px;
      }

      .social-links {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .social-links a {
        display: inline-block;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition);
      }

      .social-links a:hover {
        background: var(--secondary-color);
        transform: translateY(-3px);
      }

      .social-links img {
        width: 20px;
        height: 20px;
      }

      .copyright {
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 14px;
        color: #aaa;
      }

      /* Newsletter Section */
      .newsletter-section {
        background: #041e42;
        color: white;
        padding: 50px 20px;
        margin-bottom: 40px;
        margin: 5px;
        border-radius: 2px;
      }

      .newsletter-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap; 
        gap: 20px;
        width: 100%;
        margin: 10px;
      }

      .newsletter-text {
        flex: 1 1 300px; 
      }

      .newsletter-form {
        display: flex;
        flex: 1 1 300px;
        max-width: 500px;
        width: 100%;
      }

      .newsletter-form input {
        flex: 1;
        padding: 12px 10px;
        border: none;
        border-radius: 4px 0 0 4px;
        font-size: 1rem;
        min-width: 0; 
      }

      .newsletter-form button {
        background: #15921b;
        color: white;
        border: none;
        padding: 0 20px;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        transition: background 0.3s ease;
        white-space: nowrap; 
      }

      .newsletter-form button:hover {
        background: #117a15;
      }

      ul li i {
        margin-right: 6px;
        color: var(--secondary-color);
        font-size: 16px;
      }

      #userName2 {
        color: #fff;
      }

      .user-actions {
        position: relative;
        cursor: pointer;
      }

      .user-dropdown {
        position: absolute;
        top: 100%;
        right: -150px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        min-width: 200px;
        padding: 15px 0;
        z-index: 1001;
        display: none;
        margin-top: 10px;
      }

      .user-dropdown.active {
        display: block;
        animation: dropdownFade 0.3s ease;
      }

      @keyframes dropdownFade {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .user-dropdown::before {
        content: "";
        position: absolute;
        top: -8px;
        right: 20px;
        width: 0;
        height: 0;
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-bottom: 8px solid white;
      }

      .user-dropdown a {
        display: block;
        padding: 10px 20px;
        color: #333;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .user-dropdown a:hover {
        background: #f5f5f5;
        color: #2e7d32;
      }

      .user-dropdown a i {
        margin-right: 8px;
        width: 16px;
        text-align: center;
      }

      @media (max-width: 768px) {
        .user-dropdown {
          left: -10px;
          right: -10px;
          background-color: #444;
        }

        .user-dropdown a {
          color: black;
        }
      }

      /* Newsletter Success Popup */
      #newsletterPopup .popup-content {
        max-width: 450px;
        padding: 30px;
      }

      #newsletterPopup h2 {
        color: #2e802e;
        margin-bottom: 15px;
      }

      #newsletterPopup p {
        color: #555;
        margin-bottom: 10px;
        line-height: 1.5;
      }

      .popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 3000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
      }

      .popup.active {
        opacity: 1;
        visibility: visible;
      }

      .popup-content {
        background: white;
        padding: 30px;
        border-radius: 10px;
        max-width: 400px;
        width: 90%;
        text-align: center;
        position: relative;
        transform: scale(0.9);
        transition: transform 0.3s;
      }

      .popup.active .popup-content {
        transform: scale(1);
      }

      .popup .close-btn {
        position: absolute;
        top: 10px;
        right: 15px;
        font-size: 24px;
        cursor: pointer;
        color: #777;
        background: none;
        border: none;
      }

     /* Product Image Slider Container */
.product-img-slider {
    position: relative;
    height: 200px;
    overflow: hidden;
    width: 100%;
}

.slider-container {
    display: flex;
    transition: transform 0.3s ease-in-out;
    height: 100%;
    width: 200%;
}

.slide {
    flex: 0 0 50%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f9f9f9;
}

.slide img {
    width: 100%;
    height: 100%;   
}

/* Slider Navigation */
.slider-nav {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 3;
}

.slider-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: rgba(59, 59, 59, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
}

.slider-dot.active {
    background: green;
    transform: scale(1.2);
}

.slider-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.8);
    border: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 3;
    opacity: 1;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.slider-arrow.prev {
    left: 10px;
}

.slider-arrow.next {
    right: 10px;
}

.slider-arrow:hover {
    background: rgba(255, 255, 255, 1);
    transform: translateY(-50%) scale(1.1);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
}

/* Hide arrows on mobile */
@media (max-width: 768px) {
    .slider-arrow {
        display: none;
    }
} 

/* Admin link styling */
.desktop-nav ul li a.admin-link,
#mobileMenu ul li a.admin-link {
    
    font-weight: bold !important;
}



/* Admin badge */
.user-actions .admin-badge {
    background: #ff6b6b;
    color: white;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 10px;
    margin-left: 5px;
    vertical-align: middle;
}

/* Notifications */
.notifications {
    position: relative;
    cursor: pointer;
    color: #555;
    padding: 8px;
    border-radius: 4px;
    transition: var(--transition);
}

.notifications:hover {
    background: #f5f5f5;
    color: var(--primary-color);
}

.notification-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #f44336;
    color: white;
    font-size: 11px;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 50%;
    min-width: 18px;
    text-align: center;
}


.notifications {
    position: relative;
    cursor: pointer;
    color: #555;
    padding: 8px;
    border-radius: 4px;
    transition: all 0.3s ease;
    z-index: 100;
}

.notifications:hover {
    background: #f5f5f5;
    color: var(--primary-color);
}

.notification-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: #f44336;
    color: white;
    font-size: 11px;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 50%;
    min-width: 18px;
    text-align: center;
    z-index: 101;
}

/* Notifications dropdown */
.notifications-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    width: 350px;
    max-height: 400px;
    overflow-y: auto;
    z-index: 9999 !important; 
    display: none;
    margin-top: 10px;
    border: 1px solid #e0e0e0;
}

.notifications-dropdown.active {
    display: block;
    animation: dropdownFade 0.3s ease;
}

.notifications-dropdown::before {
    content: "";
    position: absolute;
    top: -8px;
    right: 20px;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid white;
    z-index: 10000;
}

.notifications-header {
    padding: 15px;
    border-bottom: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: sticky;
    top: 0;
    background: white;
    z-index: 1;
}

.notifications-header h4 {
    margin: 0;
    color: var(--primary-color);
    font-size: 16px;
}

.notifications-header button {
    background: none;
    border: none;
    color: var(--secondary-color);
    cursor: pointer;
    font-size: 12px;
    padding: 5px 10px;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.notifications-header button:hover {
    background: #f5f5f5;
}

.notifications-list {
    max-height: 300px;
    overflow-y: auto;
}

.notification-item {
    padding: 12px 15px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.notification-item:hover {
    background: #f8f9fa;
}

.notification-item.unread {
    background: #f0f7ff;
}

.notification-message {
    font-size: 14px;
    margin-bottom: 5px;
    color: #333;
    line-height: 1.4;
}

.notification-time {
    font-size: 11px;
    color: #888;
}

.notifications-footer {
    padding: 10px 15px;
    text-align: center;
    border-top: 1px solid #eee;
    background: #f9f9f9;
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
}

.notifications-footer a {
    color: var(--primary-color);
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
}

.notifications-footer a:hover {
    text-decoration: underline;
}

.header-right {
    position: relative;
    display: flex;
    align-items: center;
    gap: 20px;
    z-index: 100;
}

@keyframes dropdownFade {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes bellRing {
    0%, 100% { transform: rotate(0); }
    10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
    20%, 40%, 60%, 80% { transform: rotate(10deg); }
}

.notifications.has-notifications .fa-bell {
    color: #f44336;
    animation: bellRing 1s ease;
}

.unread-badge {
    background: #f44336;
    color: white;
    font-size: 9px;
    padding: 2px 5px;
    border-radius: 10px;
    margin-left: 8px;
    font-weight: bold;
    display: inline-block;
}

/* mobile view */
@media (max-width: 768px) {
    .notifications-dropdown {
        position: fixed;
        top: 70px;
        right: 10px;
        left: 10px;
        width: auto;
        max-width: 350px;
        margin: 0 auto;
    }
    
    .notifications-dropdown::before {
        right: 20px;
    }
}    </style>
  </head>

  <body>
    

    <!-- Header -->
    <header class="main-header">
      <div class="header">
        <div class="logo">
          <a href="userdashboard.html"
            ><img src="Alawusa heritage logo.png" alt="Alawusa Heritage"
          /></a>
        </div>

        <!-- Desktop Menu -->
        <nav class="desktop-nav">
          <ul>
            <li>
              <!-- User Dropdown -->
              <div class="user-actions">
                <p id="userDropdownToggle">
                  <i class="fas fa-user-circle"></i>
                  <span id="userName">Customer</span>
                  <i
                    class="fas fa-chevron-down"
                    style="font-size: 12px; margin-left: 5px"
                  ></i>
                </p>
                <div class="user-dropdown" id="userDropdown">
                  
                  <a href="homepage.html"
                    ><i class="fas fa-user"></i> My Profile</a
                  >
                  <a href="userorders.html"
                    ><i class="fas fa-shopping-bag"></i> My Orders</a
                  >
                  <a href="wishlist.html"
                    ><i class="fas fa-heart"></i> Wishlist</a
                  >
                  <a href="userfaq.html"
                    ><i class="fas fa-question-circle"></i> Help Center</a
                  >
                  <a href="#" id="logoutButtonOne"
                    ><i class="fas fa-sign-out-alt"></i> Logout</a
                  >
                </div>
              </div>
            </li>

            <li><a href="userdashboard.html" class="active">Home</a></li>
            <li><a href="userproducts.html">Products</a></li>
            <li><a href="useraboutus.html">About Us</a></li>
            <li><a href="usercontact.html">Contact</a></li>
            
          </ul>
        </nav>

        <div class="header-right">
          <!-- Add this near the shopping cart -->
<div class="notifications" id="notificationsBell">
    <i class="fas fa-bell"></i>
    <span class="notification-count" id="notificationCount">0</span>
    
    <!-- Notifications dropdown -->
    <div class="notifications-dropdown" id="notificationsDropdown">
        <div class="notifications-header">
            <h4>Notifications</h4>
            <button id="markAllRead">Mark all as read</button>
        </div>
        <div class="notifications-list" id="notificationsList">
            <!-- Notifications will be loaded here -->
        </div>
        <div class="notifications-footer">
            <a href="userorders.html">View All</a>
        </div>
    </div>
</div>
          <a href="usercart.html" class="shopping-cart">
            <img src="shopping-cart.png" width="30" height="30" alt="Cart" />
            <span id="cart-count" class="cart-count">0</span>
          </a>
          <div class="menu-icon" onclick="openMenu()">☰</div>
        </div>
      </div>
    </header>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
      <button class="close-btn" onclick="closeMenu()">×</button>
      <ul>
        <li>
          <!-- User Dropdown -->
          <div class="user-actions">
            <p id="userDropdownToggleMobile">
              <i class="fas fa-user-circle"></i>
              <span id="userName2">Customer</span>
              <i
                class="fas fa-chevron-down"
                style="font-size: 12px; margin-left: 5px"
              ></i>
            </p>
            <div class="user-dropdown" id="userDropdownMobile">
              
              <a href="homepage.html"><i class="fas fa-user"></i> My Profile</a>
              <a href="userorders.html"
                ><i class="fas fa-shopping-bag"></i> My Orders</a
              >
              <a href="wishlist.html"><i class="fas fa-heart"></i> Wishlist</a>
              <a href="userfaq.html"
                ><i class="fas fa-question-circle"></i> Help Center</a
              >
              <a href="#" id="logoutButton"
                ><i class="fas fa-sign-out-alt"></i> Logout</a
              >
            </div>
          </div>
        </li>
        <li><a href="userdashboard.html">Home</a></li>
        <li><a href="userproducts.html">Products</a></li>
        <li><a href="useraboutus.html">About Us</a></li>
        <li><a href="usercontact.html">Contact</a></li>
        
        <li><a href="usertestimonial.html">Reviews</a></li>
      </ul>
    </div>

    <!-- Hero Section -->
    <section class="hero">
      <div class="hero-content" data-aos="fade-up">
        <h1>Providing High-quality, Farm-fresh Solutions</h1>
        <p>
          Building on over 40 years of family legacy in sustainable agriculture
          and innovating Nigeria's food supply
        </p>
        <a href="#categories" class="btn"
          >Explore Now <i class="fas fa-arrow-right"></i
        ></a>
      </div>
    </section>

    <!-- Categories Section -->
    <section class="categories" id="categories">
      <div class="small-container">
        <h2 class="title">Featured Categories</h2>
        <div class="row">
          <div class="col-3" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="Live chicken sticker.png" alt="Live Chicken"
            /></a>
            <h4>LIVE CHICKEN</h4>
          </div>
          <div class="col-3" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="Ray fish sticker.png" alt="Ray Fish"
            /></a>
            <h4>RAY-FISH</h4>
          </div>
          <div class="col-3" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="pig sticker.png" alt="Live Pigs"
            /></a>
            <h4>LIVE PIGS</h4>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Products -->
    <section class="products-section">
      <div class="small-container">
        <h2 class="title" id="fproducts">Featured Products</h2>
        <div class="row">
          <div class="col-4" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="Pork sticker.png" alt="Pork"
            /></a>
            <div class="product-info">
              <h4>ALAWUSA FARM-FRESH PORK (PROCESSED)</h4>
              <div class="rating">
                <span>★★★★★</span>
              </div>
              <p class="price">₦5,000 - ₦10,000</p>
            </div>
          </div>
          <div class="col-4" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="processed chicken sticker.png" alt="Processed Chicken"
            /></a>
            <div class="product-info">
              <h4>ALAWUSA FARM-FRESH FULL CHICKEN (PROCESSED)</h4>
              <div class="rating">
                <span>★★★★★</span>
              </div>
              <p class="price">₦15,000 - ₦35,000</p>
            </div>
          </div>
          <div class="col-4" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="Processed Rayfish sticker.png" alt="Processed Rayfish"
            /></a>
            <div class="product-info">
              <h4>ALAWUSA SOURCED FRESH RAYFISH</h4>
              <div class="rating">
                <span>★★★★★</span>
              </div>
              <p class="price">₦2,000</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Latest Products -->
    <section class="products-section" style="background: #f9f9f9">
      <div class="small-container">
        <h2 class="title" id="lproducts">Latest Products</h2>
        <div class="row">
          <div class="col-4" data-aos="fade-up">
            <a href="userproducts.html"
              ><img src="catfish pic.jpeg" alt="Catfish"
            /></a>
            <div class="product-info">
              <h4>ALAWUSA FARM-FRESH CATFISH</h4>
              <div class="rating">
                <span>★★★★★</span>
              </div>
              <p class="price">₦2,000 - ₦4,000</p>
            </div>
          </div>
          <div class="col-4" data-aos="fade-up">
    <a href="userproducts.html">
        <div class="product-img-slider">
            <div class="slider-container" data-slide="0">
                <div class="slide">
                    <img src="Dried catfish sticker.png" alt="Dried Catfish - Product">
                </div>
                <div class="slide">
                    <img src="Alawusa Box.jpg" alt="Dried Catfish - Packaging">
                </div>
            </div>
            <div class="slider-nav">
                <div class="slider-dot active" data-index="0"></div>
                <div class="slider-dot" data-index="1"></div>
            </div>
            <button class="slider-arrow prev" onclick="slideImage(event, this, -1)">‹</button>
<button class="slider-arrow next" onclick="slideImage(event, this, 1)">›</button>
        </div>
    </a>
    <div class="product-info">
        <h4>ALAWUSA DRIED CAT-FISH (CARTON)</h4>
        <div class="rating">
            <span>★★★★★</span>
        </div>
        <p class="price">₦20,000 - ₦50,000</p>
    </div>
</div>
          <div class="col-4" data-aos="fade-up">
    <a href="userproducts.html">
        <div class="product-img-slider">
            <div class="slider-container" data-slide="0">
                <div class="slide">
                    <img src="sole fish sticker.png" alt="Sole Fish - Product">
                </div>
                <div class="slide">
                    <img src="Alawusa Bag.jpg" alt="Sole Fish - Packaging">
                </div>
            </div>
            <div class="slider-nav">
                <div class="slider-dot active" data-index="0"></div>
                <div class="slider-dot" data-index="1"></div>
            </div>
            <button class="slider-arrow prev" onclick="slideImage(event, this, -1)">‹</button>
<button class="slider-arrow next" onclick="slideImage(event, this, 1)">›</button>
        </div>
    </a>
    <div class="product-info">
        <h4>ALAWUSA SOURCED DRIED SOLE FISH</h4>
        <div class="rating">
            <span>★★★★★</span>
        </div>
        <p class="price">₦5,500 - ₦10,000</p>
    </div>
</div>
        </div>
      </div>
    </section>

    <!-- Slideshow Section -->
    <section class="slideshow-section">
      <div class="slideshow-left">
        <div class="fade-slide active">
          <img src="Live chicken sticker.png" alt="Live Chicken" />
        </div>
        <div class="fade-slide">
          <img src="Ray fish sticker.png" alt="Ray Fish" />
        </div>
        <div class="fade-slide">
          <img src="catfish pic.jpeg" alt="Catfish" />
        </div>
        <div class="fade-slide">
          <img src="pig sticker.png" alt="Pig" />
        </div>
        <div class="fade-slide">
          <img src="Chicken Eggs 30 holes sticker.png" alt="Slide 5" />
        </div>
        <div class="fade-slide">
          <img src="Chicken Eggs 15 holes sticker.png" alt="Slide 6" />
        </div>
        <div class="fade-slide">
          <img src="processed chicken sticker.png" alt="Slide 7" />
        </div>
        <div class="fade-slide">
          <img src="Dried catfish sticker.png" alt="Slide 8" />
        </div>
        <div class="fade-slide">
          <img src="Pork sticker.png" alt="Slide 9" />
        </div>
        <div class="fade-slide">
          <img src="sourced seafood sticker.png" alt="Slide 10" />
        </div>
        <div class="fade-slide">
          <img src="sole fish sticker.png" alt="Slide 11" />
        </div>
        <div class="fade-slide">
          <img src="Dry smoked rayfish sticker.png" alt="Slide 12" />
        </div>
        <div class="fade-slide">
          <img src="Processed Rayfish sticker.png" alt="Slide 13" />
        </div>
      </div>
      <div class="slideshow-right">
        <h2>Become our Regular Customer</h2>
        <p>
          Enjoy exclusive discounts and premium services when you shop with us
          regularly.
        </p>
        <a href="userproducts.html" class="btn"
          >Shop Now <i class="fas fa-arrow-right"></i
        ></a>
      </div>
    </section>

    <!-- Agencies Section -->
    <section class="agencies">
      <div class="small-container">
        <h2 class="title">Trusted By</h2>
        <div class="agency-logos">
          <img
            src="federal agency for agriculture 1.png"
            alt="Federal Agency For Agriculture"
          />
          <img src="ogun state logo 1.png" alt="Ogun State" />
          <img src="lagos agency for agriculture 1.png" alt="Lagos State" />
          <img src="panog logo 1.png" alt="PANOG" style="width: 250px" />
        </div>
      </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section">
      <div class="container">
        <div class="newsletter-content">
          <div class="newsletter-text">
            <h3>Sign Up For Our Newsletter</h3>
            <p>
              Get email updates about our latest products and special offers
            </p>
          </div>
          <form id="newsletterForm" class="newsletter-form">
            <input
              type="email"
              name="data[email]"
              id="newsletterEmail"
              placeholder="Your email address"
              required
            />
            <button type="submit">Subscribe</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Newsletter Success Popup -->
    <div id="newsletterPopup" class="popup">
      <div class="popup-content">
        <span class="close-btn" id="closeNewsletterPopup">&times;</span>
        <div style="text-align: center; padding: 20px">
          <div style="font-size: 48px; color: #4caf50; margin-bottom: 20px">
            ✓
          </div>
          <h2>Successfully Subscribed!</h2>
          <p>Thank you for subscribing to our newsletter.</p>
          <p>
            You'll receive updates about our latest products and special offers.
          </p>
          <button
            id="closePopupBtn"
            style="
              margin-top: 20px;
              padding: 10px 30px;
              background: #4caf50;
              color: white;
              border: none;
              border-radius: 5px;
              cursor: pointer;
            "
          >
            OK
          </button>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-container">
          <div class="footer-col">
            <a href="userdashboard.html"
              ><img
                src="Alawusa heritage logo.png"
                alt="Alawusa Heritage"
                style="width: 200px; filter: brightness(2) invert(0)"
            /></a>
            <p>Bringing the Best of Our Farm to Your Table</p>

            <div class="social-links">
              <a
                href="https://www.facebook.com/profile.php?id=61577588632364&mibextid=ZbWKwL"
                ><img src="facebook.png" alt="Facebook"
              /></a>
              <a
                href="https://www.instagram.com/alawusaheritage?igsh=MXJnbHJ5dGtlOGs0eQ=="
                ><img src="instagram.png" alt="Instagram"
              /></a>
              <a href="https://wa.link/zp8ngg"
                ><img src="whatsapp.png" alt="WhatsApp"
              /></a>
            </div>
          </div>

          <div class="footer-col">
            <h3>Customer Service</h3>
            <ul>
              <li><a href="userfaq.html">FAQs</a></li>
              <li><a href="usertestimonial.html">Reviews</a></li>
              <li><a href="usercontact.html">Contact Us</a></li>
            </ul>
          </div>

          <div class="footer-col">
            <h3>Useful Links</h3>
            <ul>
              <li><a href="userblogpost.html">Farm Tips/Blog Post</a></li>
              <li><a href="userourfarm.html">Our Farm/Sustainability</a></li>
              <li><a href="userrecipes.html">Recipes</a></li>
              <li><a href="useraboutus.html">About Us</a></li>
              
            </ul>
          </div>

          <div class="footer-col">
            <h3>Contact Info</h3>
            <ul>
              <li><i class="fas fa-phone"></i> +234-802-227-6254</li>
              <li><i class="fas fa-envelope"></i> alawusaheritage@gmail.com</li>
              <li>
                <i class="fas fa-map-marker-alt"></i> Alawusa-House, Hungotho,
                Tube, Ipokia LG, Ogun State
              </li>
            </ul>
          </div>
        </div>

        <div class="copyright">
          <p>&copy; 2025 Alawusa Heritage Fish & Farms. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      

      // Initialize AOS
      AOS.init({
        duration: 1000,
        once: true,
      });

      // Mobile Menu Functions
      function openMenu() {
        document.getElementById("mobileMenu").classList.add("open");
      }

      function closeMenu() {
        document.getElementById("mobileMenu").classList.remove("open");
      }

      // Slideshow Functionality
      const slides = document.querySelectorAll(".fade-slide");
      let currentSlide = 0;

      function showSlide(index) {
        slides.forEach((slide, i) => {
          slide.classList.remove("active");
        });
        slides[index].classList.add("active");
      }

      function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }

      // Start slideshow
      setInterval(nextSlide, 4000);

      // Popup Functionality
      const popup = document.getElementById("popup");
      const closePopupBtn = document.getElementById("closePopup");
      const registerBtn = document.getElementById("registerBtn");

      // Show popup after 3 seconds
      setTimeout(() => {
        popup.classList.add("active");
      }, 3000);

      // Close popup
      closePopupBtn.addEventListener("click", () => {
        popup.classList.remove("active");
      });

      // Redirect to account page
      registerBtn.addEventListener("click", () => {
        window.location.href = "account.html";
      });

      // Close mobile menu when clicking on links
      document.querySelectorAll("#mobileMenu a").forEach((link) => {
        link.addEventListener("click", closeMenu);
      });

      // Newsletter signup
    </script>
    

    <script>
      (function () {
        if (!window.chatbase || window.chatbase("getState") !== "initialized") {
          window.chatbase = (...arguments) => {
            if (!window.chatbase.q) {
              window.chatbase.q = [];
            }
            window.chatbase.q.push(arguments);
          };
          window.chatbase = new Proxy(window.chatbase, {
            get(target, prop) {
              if (prop === "q") {
                return target.q;
              }
              return (...args) => target(prop, ...args);
            },
          });
        }
        const onLoad = function () {
          const script = document.createElement("script");
          script.src = "https://www.chatbase.co/embed.min.js";
          script.id = "TcwUb0cLFLQZZlxVHISps";
          script.domain = "www.chatbase.co";
          document.body.appendChild(script);
        };
        if (document.readyState === "complete") {
          onLoad();
        } else {
          window.addEventListener("load", onLoad);
        }
      })();

      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        renderCart();
        updateCartCount();
      });

      // User Dropdown Functionality
      const userDropdownToggle = document.getElementById("userDropdownToggle");
      const userDropdown = document.getElementById("userDropdown");

      function toggleUserDropdown() {
        userDropdown.classList.toggle("active");
      }

      userDropdownToggle.addEventListener("click", function (e) {
        e.stopPropagation();
        toggleUserDropdown();
      });

      // Close dropdown when clicking outside
      document.addEventListener("click", function (e) {
        if (
          !userDropdown.contains(e.target) &&
          !userDropdownToggle.contains(e.target)
        ) {
          userDropdown.classList.remove("active");
        }
      });

      // User Dropdown Functionality
      const userDropdownToggleMobile = document.getElementById(
        "userDropdownToggleMobile"
      );
      const userDropdownMobile = document.getElementById("userDropdownMobile");

      function toggleUserDropdownMobile() {
        userDropdownMobile.classList.toggle("active");
      }

      userDropdownToggleMobile.addEventListener("click", function (e) {
        e.stopPropagation();
        toggleUserDropdownMobile();
      });

      // Close dropdown when clicking outside
      document.addEventListener("click", function (e) {
        if (
          !userDropdownMobile.contains(e.target) &&
          !userDropdownToggle.contains(e.target)
        ) {
          userDropdownMobile.classList.remove("active");
        }
      });
    </script>

    <script>
      // Cart functionality
      function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
        const cartCount = document.getElementById("cart-count");
        if (cartCount) {
          cartCount.textContent = totalItems;
        }
      }

      // Initialize cart count
      updateCartCount();

      // Initialize on page load
      document.addEventListener("DOMContentLoaded", () => {
        updateCartCount();
      });

      // Newsletter form submission
      document
        .getElementById("newsletterForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const emailInput = document.getElementById("newsletterEmail");
          const email = emailInput.value;
          const submitBtn = this.querySelector('button[type="submit"]');

          // Validate email
          if (!email || !email.includes("@")) {
            alert("Please enter a valid email address");
            return;
          }

          // Disable button to prevent multiple submissions
          const originalBtnText = submitBtn.textContent;
          submitBtn.textContent = "Subscribing...";
          submitBtn.disabled = true;

          try {
            // Prepare form data for SheetDB
            const formData = new FormData();
            formData.append("data[email]", email);
            formData.append(
              "data[date]",
              new Date().toISOString().split("T")[0]
            );

            // Send to SheetDB
            const response = await fetch(
              "https://sheetdb.io/api/v1/7pjxxvpo241l5",
              {
                method: "POST",
                body: formData,
              }
            );

            if (response.ok) {
              // Show success popup
              const popup = document.getElementById("newsletterPopup");
              popup.classList.add("active");

              // Reset form
              this.reset();

              // Optional: Store in localStorage to track subscriptions
              const subscribers = JSON.parse(
                localStorage.getItem("newsletterSubscribers") || "[]"
              );
              subscribers.push({
                email: email,
                date: new Date().toISOString(),
              });
              localStorage.setItem(
                "newsletterSubscribers",
                JSON.stringify(subscribers)
              );
            } else {
              throw new Error("Subscription failed");
            }
          } catch (error) {
            console.error("Subscription Error:", error);
            alert("❌ Failed to subscribe. Please try again.");
          } finally {
            // Re-enable button
            submitBtn.textContent = originalBtnText;
            submitBtn.disabled = false;
          }
        });

      // Close newsletter popup
      function closeNewsletterPopup() {
        const popup = document.getElementById("newsletterPopup");
        popup.classList.remove("active");
      }

      // Event listeners for popup close buttons
      document
        .getElementById("closeNewsletterPopup")
        .addEventListener("click", closeNewsletterPopup);
      document
        .getElementById("closePopupBtn")
        .addEventListener("click", closeNewsletterPopup);

      // Close popup when clicking outside
      document
        .getElementById("newsletterPopup")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeNewsletterPopup();
          }
        });

      // Close popup with Escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          closeNewsletterPopup();
        }
      });

      // Auto-slide functionality for product image sliders
let autoSlideIntervals = new Map(); // Store intervals for each slider

function startAutoSlide(sliderElement) {
    // Clear any existing interval for this slider
    stopAutoSlide(sliderElement);
    
    const interval = setInterval(() => {
        const nextBtn = sliderElement.querySelector('.next');
        if (nextBtn) {
            // Simulate a click on the next button
            const event = new Event('click', { bubbles: true });
            nextBtn.dispatchEvent(event);
        }
    }, 3000); 
    
    // Store interval ID for this slider
    autoSlideIntervals.set(sliderElement, interval);
}

function stopAutoSlide(sliderElement) {
    if (autoSlideIntervals.has(sliderElement)) {
        clearInterval(autoSlideIntervals.get(sliderElement));
        autoSlideIntervals.delete(sliderElement);
    }
}

// Pause auto-slide on hover and resume on mouse leave
function setupAutoSlideControls() {
    document.querySelectorAll('.product-img-slider').forEach(slider => {
        // Start auto-slide initially
        startAutoSlide(slider);
        
        // Pause on hover
        slider.addEventListener('mouseenter', () => {
            stopAutoSlide(slider);
        });
        
        // Resume when mouse leaves
        slider.addEventListener('mouseleave', () => {
            startAutoSlide(slider);
        });
        
        // Pause on touch start (for mobile)
        slider.addEventListener('touchstart', () => {
            stopAutoSlide(slider);
        });
        
        // Resume after 3 seconds of inactivity on touch devices
        slider.addEventListener('touchend', () => {
            setTimeout(() => {
                if (!slider.matches(':hover')) {
                    startAutoSlide(slider);
                }
            }, 3000);
        });
    });
}


// Function to slide images
function slideImage(event, element, direction) {
    // Prevent the click from bubbling up to the parent <a> tag
    if (event) {
        event.stopPropagation();
        event.preventDefault();
    }
    
    const slider = element.closest('.product-img-slider');
    const sliderContainer = slider.querySelector('.slider-container');
    const sliderNav = slider.querySelector('.slider-nav');
    const dots = sliderNav.querySelectorAll('.slider-dot');
    
    let currentSlide = parseInt(sliderContainer.dataset.slide || 0);
    const totalSlides = sliderContainer.querySelectorAll('.slide').length;
    
    currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
    
    sliderContainer.style.transform = `translateX(-${currentSlide * 50}%)`;
    sliderContainer.dataset.slide = currentSlide;
    
    // Update dots
    dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
    });
    
    // Reset auto-slide timer when user interacts manually
    stopAutoSlide(slider);
    startAutoSlide(slider);
}

// Enhanced dot click handler
function setupSliderDots() {
    document.addEventListener('click', function(e) {
        if (e.target.classList.contains('slider-dot')) {
            // Prevent navigation when clicking dots
            e.stopPropagation();
            e.preventDefault();
            
            const dot = e.target;
            const index = parseInt(dot.dataset.index);
            const slider = dot.closest('.product-img-slider');
            const sliderContainer = slider.querySelector('.slider-container');
            const sliderNav = slider.querySelector('.slider-nav');
            const dots = sliderNav.querySelectorAll('.slider-dot');
            
            sliderContainer.style.transform = `translateX(-${index * 50}%)`;
            sliderContainer.dataset.slide = index;
            
            dots.forEach((d, i) => {
                d.classList.toggle('active', i === index);
            });
            
            // Reset auto-slide timer
            stopAutoSlide(slider);
            startAutoSlide(slider);
        }
    });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    setupSliderDots();
    setupAutoSlideControls();
    
    // Also initialize for dynamically loaded content
    const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
            if (mutation.addedNodes.length) {
                setupAutoSlideControls();
            }
        });
    });
    
    observer.observe(document.body, { childList: true, subtree: true });
});

// Clean up intervals when page is hidden
document.addEventListener('visibilitychange', function() {
    if (document.hidden) {
        // Pause all auto-slides when page is not visible
        document.querySelectorAll('.product-img-slider').forEach(stopAutoSlide);
    } else {
        // Resume auto-slides when page becomes visible again
        document.querySelectorAll('.product-img-slider').forEach(startAutoSlide);
    }
});

// Add swipe support for mobile
let touchStartX = 0;
let touchEndX = 0;

document.addEventListener('touchstart', function(e) {
    if (e.target.closest('.product-img-slider')) {
        touchStartX = e.changedTouches[0].screenX;
    }
});

document.addEventListener('touchend', function(e) {
    if (e.target.closest('.product-img-slider')) {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe(e.target.closest('.product-img-slider'));
    }
});

function handleSwipe(slider) {
    const diff = touchStartX - touchEndX;
    if (Math.abs(diff) > 50) { // Minimum swipe distance
        if (diff > 0) {
            // Swipe left - next
            const nextBtn = slider.querySelector('.next');
            if (nextBtn) slideImage(nextBtn, 1);
        } else {
            // Swipe right - previous
            const prevBtn = slider.querySelector('.prev');
            if (prevBtn) slideImage(prevBtn, -1);
        }
    }
}
    </script>

    <script type="module">
// Check if user is admin on user dashboard and add admin link
async function checkAdminOnDashboard() {
    try {
        const loggedInUserId = localStorage.getItem('loggedInUserId');
        if (!loggedInUserId) return;
        
        // Import the admin check function from firebaseauth.js
        const authModule = await import('./firebaseauth.js');
        const isAdmin = await authModule.checkIfUserIsAdmin();
        
        console.log("Dashboard admin check - Is admin:", isAdmin);
        
        if (isAdmin) {
            console.log("Adding admin dashboard link to userdashboard.html");
            
            // Add admin dashboard link to navigation
            const desktopNavUl = document.querySelector('.desktop-nav ul');
            const mobileMenuUl = document.querySelector('#mobileMenu ul');
            
            // Check and add to desktop menu
            let adminLinkExists = false;
            document.querySelectorAll('.desktop-nav ul li a').forEach(link => {
                if (link.textContent.includes('Admin Dashboard') || link.href.includes('admin-dashboard')) {
                    adminLinkExists = true;
                }
            });
            
            if (!adminLinkExists && desktopNavUl) {
                const adminLi = document.createElement('li');
                const adminLink = document.createElement('a');
                adminLink.href = 'admin-dashboard.html';
                adminLink.innerHTML = 'Admin Dashboard';
                
                adminLink.style.fontWeight = 'bold';
                adminLink.classList.add('admin-link');
                adminLi.appendChild(adminLink);
                
                // Insert after the user dropdown item
                const userDropdownLi = document.querySelector('.desktop-nav ul li:first-child');
                if (userDropdownLi && userDropdownLi.nextSibling) {
                    desktopNavUl.insertBefore(adminLi, userDropdownLi.nextSibling);
                } else if (desktopNavUl.children.length > 0) {
                    desktopNavUl.insertBefore(adminLi, desktopNavUl.children[1]);
                }
            }
            
            // Check and add to mobile menu
            let mobileAdminLinkExists = false;
            document.querySelectorAll('#mobileMenu ul li a').forEach(link => {
                if (link.textContent.includes('Admin Dashboard') || link.href.includes('admin-dashboard')) {
                    mobileAdminLinkExists = true;
                }
            });
            
            if (!mobileAdminLinkExists && mobileMenuUl) {
                const mobileAdminLi = document.createElement('li');
                const mobileAdminLink = document.createElement('a');
                mobileAdminLink.href = 'admin-dashboard.html';
                mobileAdminLink.innerHTML = 'Admin Dashboard';
                mobileAdminLink.style.fontWeight = 'bold';
                mobileAdminLink.classList.add('admin-link');
                mobileAdminLi.appendChild(mobileAdminLink);
                
                
                const mobileUserDropdownLi = document.querySelector('#mobileMenu ul li:first-child');
                if (mobileUserDropdownLi && mobileUserDropdownLi.nextSibling) {
                    mobileMenuUl.insertBefore(mobileAdminLi, mobileUserDropdownLi.nextSibling);
                }
            }
            
            // Update user display name with (Admin) badge
            const userNameElements = document.querySelectorAll('#userName, #userName2');
            userNameElements.forEach(el => {
                if (el.textContent && !el.textContent.includes('(Admin)')) {
                    el.textContent += ' (Admin)';
                }
            });
            
            // Also add admin dashboard link to user dropdown
            const userDropdown = document.getElementById('userDropdown');
            const userDropdownMobile = document.getElementById('userDropdownMobile');
            
            if (userDropdown) {
                // Check if admin link already exists in dropdown
                let dropdownAdminExists = false;
                userDropdown.querySelectorAll('a').forEach(link => {
                    if (link.textContent.includes('Admin Dashboard')) {
                        dropdownAdminExists = true;
                    }
                });
                
                if (!dropdownAdminExists) {
                    const adminDropdownLink = document.createElement('a');
                    adminDropdownLink.href = 'admin-dashboard.html';
                    adminDropdownLink.innerHTML = '<i class="fas fa-tachometer-alt"></i> Admin Dashboard';
                    
                    adminDropdownLink.style.fontWeight = 'bold';
                    
                    // Insert at the top of dropdown
                    userDropdown.insertBefore(adminDropdownLink, userDropdown.firstChild);
                }
            }
            
            if (userDropdownMobile) {
                // Check if admin link already exists in mobile dropdown
                let mobileDropdownAdminExists = false;
                userDropdownMobile.querySelectorAll('a').forEach(link => {
                    if (link.textContent.includes('Admin Dashboard')) {
                        mobileDropdownAdminExists = true;
                    }
                });
                
                if (!mobileDropdownAdminExists) {
                    const adminDropdownLink = document.createElement('a');
                    adminDropdownLink.href = 'admin-dashboard.html';
                    adminDropdownLink.innerHTML = '<i class="fas fa-tachometer-alt"></i> Admin Dashboard';
                    
                    adminDropdownLink.style.fontWeight = 'bold';
                    
                    // Insert at the top of mobile dropdown
                    userDropdownMobile.insertBefore(adminDropdownLink, userDropdownMobile.firstChild);
                }
            }
            
            console.log("✅ Admin dashboard link added to userdashboard.html");
        } else {
            console.log("👤 User is not an admin on dashboard");
        }
    } catch (error) {
        console.error("Error checking admin status on dashboard:", error);
    }
}

// Function to initialize dashboard
async function initializeDashboard() {
    console.log("Initializing dashboard...");
    
    // Check if user is logged in
    const loggedInUserId = localStorage.getItem('loggedInUserId');
    if (!loggedInUserId) {
        console.log("No user logged in, redirecting to index");
        window.location.href = 'index.html';
        return;
    }
    
    // Update user name if available
    const storedUserName = localStorage.getItem('userName3');
    const storedUserEmail = localStorage.getItem('userEmail');
    
    if (storedUserName && storedUserName.trim() !== '') {
        document.getElementById('userName').textContent = storedUserName;
        document.getElementById('userName2').textContent = storedUserName;
    } else if (storedUserEmail) {
        const displayName = storedUserEmail.split('@')[0];
        document.getElementById('userName').textContent = displayName;
        document.getElementById('userName2').textContent = displayName;
    }
    
    // Check admin status and add admin link if needed
    await checkAdminOnDashboard();
    
    console.log("Dashboard initialization complete");
}

// Call the function when page loads
document.addEventListener('DOMContentLoaded', function() {
    initializeDashboard();
});

// Register Service Worker (No push subscription for now)
if ('serviceWorker' in navigator) {
    window.addEventListener('load', async function() {
        try {
            // Register service worker WITHOUT push subscription
            const registration = await navigator.serviceWorker.register('service-worker.js');
            console.log('✅ Service Worker registered successfully');
            
            // Show success message in console
            console.log('Service Worker scope:', registration.scope);
            
            // Only request notification permission, don't subscribe to push yet
            const permission = await Notification.requestPermission();
            console.log('Notification permission:', permission);
            
            // For now, just use browser notifications without push
            if (permission === 'granted') {
                console.log('✅ Browser notifications enabled');
                
                // Store notification permission in localStorage
                localStorage.setItem('notificationPermission', 'granted');
                
            }
            
        } catch (error) {
            console.error('❌ Service Worker registration failed:', error);
            
            // If error is about VAPID key, try without push subscription
            if (error.message.includes('applicationServerKey') || error.message.includes('VAPID')) {
                console.log('⚠️ Trying to register without push subscription...');
                
                try {
                    // Try registering without push capabilities
                    const registration = await navigator.serviceWorker.register('service-worker.js');
                    console.log('✅ Service Worker registered (without push)');
                } catch (simpleError) {
                    console.error('❌ Simple registration also failed:', simpleError);
                }
            }
        }
    });
}

// Helper function for browser notifications (not push)
function showBrowserNotification(title, body, options = {}) {
    if (!("Notification" in window)) {
        console.log("This browser does not support notifications");
        return;
    }

    if (Notification.permission === "granted") {
        const notification = new Notification(title, {
            body: body,
            icon: 'Alawusa heritage icon - Icon.png',
            badge: 'Alawusa heritage icon - Icon.png',
            ...options
        });
        
        // Close notification after 5 seconds
        setTimeout(() => {
            notification.close();
        }, 5000);

        // Handle click on notification
        notification.onclick = function() {
            window.focus();
            notification.close();
            
            if (options.data && options.data.orderId) {
                window.location.href = 'userorders.html';
            }
        };
        
        return notification;
    }
}

// Test browser notification (optional)
function testBrowserNotification() {
    showBrowserNotification('Alawusa Heritage', 'Browser notifications are working!');
}

// Add notification functionality to userdashboard
function setupDashboardNotifications() {
    // Check if user is logged in
    const user = auth.currentUser;
    if (!user) return;
    
    // Listen for new notifications 
    const notificationsQuery = query(
        collection(db, 'notifications'),
        where('userId', '==', user.uid),
        where('read', '==', false),
        orderBy('createdAt', 'desc')
    );
    
    onSnapshot(notificationsQuery, (snapshot) => {
        snapshot.docChanges().forEach(change => {
            if (change.type === 'added') {
                const notification = change.doc.data();
                
                // Show browser notification
                showBrowserNotification(
                    'Order Update',
                    notification.message,
                    {
                        data: {
                            orderId: notification.orderId,
                            type: notification.type
                        }
                    }
                );
                
                // Mark as read
                const notificationRef = doc(db, 'notifications', change.doc.id);
                updateDoc(notificationRef, { read: true });
            }
        });
    });
}
</script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { 
    getAuth, 
    onAuthStateChanged,
    signOut 
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { 
    getFirestore, 
    collection, 
    query, 
    where, 
    getDocs,
    orderBy,
    onSnapshot,
    updateDoc,
    doc,
    limit
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

// Firebase Configuration
const firebaseConfig = {
    apiKey: "AIzaSyDuxTHLfwiETTMO6Dx7YMehngZqWLgUlH0",
    authDomain: "alawusa-heritage-website.firebaseapp.com",
    projectId: "alawusa-heritage-website",
    storageBucket: "alawusa-heritage-website.firebasestorage.app",
    messagingSenderId: "857988164081",
    appId: "1:857988164081:web:ccac1200d344a8bd82bc50",
    measurementId: "G-TJQJMVVMZG"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

// DOM Elements
const notificationsBell = document.getElementById('notificationsBell');
const notificationsDropdown = document.getElementById('notificationsDropdown');
const notificationsList = document.getElementById('notificationsList');
const notificationCount = document.getElementById('notificationCount');
const markAllReadBtn = document.getElementById('markAllRead');

// Debug: Log elements to console
console.log('Notifications bell:', notificationsBell);
console.log('Notifications dropdown:', notificationsDropdown);
console.log('Notifications list:', notificationsList);
console.log('Notification count:', notificationCount);

// Helper function for time ago
function getTimeAgo(date) {
    if (!date) return 'Just now';
    const seconds = Math.floor((new Date() - date) / 1000);
    
    let interval = Math.floor(seconds / 31536000);
    if (interval >= 1) return interval + ' year' + (interval === 1 ? '' : 's') + ' ago';
    interval = Math.floor(seconds / 2592000);
    if (interval >= 1) return interval + ' month' + (interval === 1 ? '' : 's') + ' ago';
    interval = Math.floor(seconds / 86400);
    if (interval >= 1) return interval + ' day' + (interval === 1 ? '' : 's') + ' ago';
    interval = Math.floor(seconds / 3600);
    if (interval >= 1) return interval + ' hour' + (interval === 1 ? '' : 's') + ' ago';
    interval = Math.floor(seconds / 60);
    if (interval >= 1) return interval + ' minute' + (interval === 1 ? '' : 's') + ' ago';
    return 'Just now';
}

// Load notifications for dropdown
async function loadNotifications() {
    const user = auth.currentUser;
    if (!user) {
        notificationsList.innerHTML = '<div class="notification-item"><div class="notification-message">Please login to see notifications</div></div>';
        return;
    }

    try {
        const q = query(
            collection(db, 'notifications'),
            where('userId', '==', user.uid),
            orderBy('createdAt', 'desc'),
            limit(20)
        );
        
        const querySnapshot = await getDocs(q);
        let notificationsHTML = '';

        querySnapshot.forEach((doc) => {
            const notification = doc.data();
            const timeAgo = getTimeAgo(notification.createdAt?.toDate());
            const isUnread = !notification.read;
            
            notificationsHTML += `
                <div class="notification-item ${isUnread ? 'unread' : ''}" 
                     data-id="${doc.id}">
                    <div class="notification-message">${notification.message}</div>
                    <div class="notification-time">${timeAgo}</div>
                    ${isUnread ? '<span class="unread-badge">NEW</span>' : ''}
                </div>
            `;
        });

        notificationsList.innerHTML = notificationsHTML || `
            <div class="notification-item">
                <div class="notification-message">No notifications yet</div>
            </div>
        `;
        
        // Add click handlers to notification items
        document.querySelectorAll('.notification-item').forEach(item => {
            item.addEventListener('click', function() {
                const notificationId = this.getAttribute('data-id');
                viewNotification(notificationId);
            });
        });
        
    } catch (error) {
        console.error('Error loading notifications:', error);
        notificationsList.innerHTML = `
            <div class="notification-item">
                <div class="notification-message">Error loading notifications</div>
            </div>
        `;
    }
}

// Update notification count
async function updateNotificationCount() {
    const user = auth.currentUser;
    if (!user) {
        if (notificationCount) notificationCount.textContent = '0';
        return;
    }

    try {
        const q = query(
            collection(db, 'notifications'),
            where('userId', '==', user.uid),
            where('read', '==', false)
        );
        
        const querySnapshot = await getDocs(q);
        const unreadCount = querySnapshot.size;
        
        if (notificationCount) {
            notificationCount.textContent = unreadCount;
            
            // Add/remove has-notifications class
            if (unreadCount > 0) {
                notificationsBell.classList.add('has-notifications');
            } else {
                notificationsBell.classList.remove('has-notifications');
            }
        }
    } catch (error) {
        console.error('Error updating notification count:', error);
        if (notificationCount) notificationCount.textContent = '0';
    }
}

// Mark notification as read
async function markNotificationAsRead(notificationId) {
    const user = auth.currentUser;
    if (!user || !notificationId) return;

    try {
        const notificationRef = doc(db, 'notifications', notificationId);
        await updateDoc(notificationRef, { read: true });
        updateNotificationCount();
    } catch (error) {
        console.error('Error marking notification as read:', error);
    }
}

// View notification
async function viewNotification(notificationId) {
    await markNotificationAsRead(notificationId);
    window.location.href = 'userorders.html';
}

// Mark all as read
async function markAllNotificationsAsRead() {
    const user = auth.currentUser;
    if (!user) return;

    try {
        const q = query(
            collection(db, 'notifications'),
            where('userId', '==', user.uid),
            where('read', '==', false)
        );
        
        const snapshot = await getDocs(q);
        const promises = [];
        
        snapshot.forEach((doc) => {
            promises.push(updateDoc(doc.ref, { read: true }));
        });

        await Promise.all(promises);
        updateNotificationCount();
        loadNotifications();
        
        // Show success message
        const successMsg = document.createElement('div');
        successMsg.style.cssText = `
            background: #d4edda;
            color: #155724;
            padding: 10px;
            margin: 10px;
            border-radius: 4px;
            text-align: center;
        `;
        successMsg.textContent = 'All notifications marked as read';
        notificationsList.prepend(successMsg);
        
        setTimeout(() => successMsg.remove(), 3000);
    } catch (error) {
        console.error('Error marking notifications as read:', error);
        alert('Error marking notifications as read. Please try again.');
    }
}

// Setup notifications dropdown
function setupNotificationsDropdown() {
    if (!notificationsBell || !notificationsDropdown) {
        console.error('Notifications elements not found!');
        return;
    }

    console.log('Setting up notifications dropdown...');

    // Toggle dropdown
    notificationsBell.addEventListener('click', function(e) {
        e.stopPropagation();
        e.preventDefault();
        
        console.log('Bell clicked, dropdown active:', notificationsDropdown.classList.contains('active'));
        
        const isActive = notificationsDropdown.classList.contains('active');
        notificationsDropdown.classList.toggle('active');
        
        if (!isActive) {
            loadNotifications();
        }
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (notificationsDropdown && notificationsBell && 
            !notificationsDropdown.contains(e.target) && 
            !notificationsBell.contains(e.target)) {
            notificationsDropdown.classList.remove('active');
        }
    });

    // Mark all as read
    if (markAllReadBtn) {
        markAllReadBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            markAllNotificationsAsRead();
        });
    }

    // Prevent dropdown from closing when clicking inside
    notificationsDropdown.addEventListener('click', function(e) {
        e.stopPropagation();
    });
}

// Setup real-time notifications listener
function setupNotificationsListener(userId) {
    if (!userId) return;

    const notificationsQuery = query(
        collection(db, 'notifications'),
        where('userId', '==', userId),
        orderBy('createdAt', 'desc'),
        limit(5)
    );

    const unsubscribe = onSnapshot(notificationsQuery, (snapshot) => {
        snapshot.docChanges().forEach(change => {
            if (change.type === 'added') {
                const notification = change.doc.data();
                console.log('New notification received:', notification);
                
                // Update notification count
                updateNotificationCount();
                
                // Show browser notification if permission granted
                if (Notification.permission === "granted") {
                    const browserNotification = new Notification('Alawusa Heritage', {
                        body: notification.message,
                        icon: 'Alawusa heritage icon - Icon.png',
                        badge: 'Alawusa heritage icon - Icon.png',
                        tag: 'alawusa-order-notification',
                        requireInteraction: false,
                        data: {
                            orderId: notification.orderId,
                            type: notification.type
                        }
                    });
                    
                    setTimeout(() => {
                        browserNotification.close();
                    }, 5000);

                    browserNotification.onclick = function() {
                        window.focus();
                        browserNotification.close();
                        window.location.href = 'userorders.html';
                    };
                }
            }
        });
    }, (error) => {
        console.error('Error in notifications listener:', error);
    });

    return unsubscribe;
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded, initializing notifications...');
    
    // Initialize Firebase auth state listener
    onAuthStateChanged(auth, (user) => {
        console.log('Auth state changed, user:', user ? 'logged in' : 'logged out');
        
        if (user) {
            // Setup notifications dropdown
            setupNotificationsDropdown();
            
            // Update notification count
            updateNotificationCount();
            
            // Setup real-time listener
            setupNotificationsListener(user.uid);
            
            // Request notification permission
            if ("Notification" in window && Notification.permission === "default") {
                Notification.requestPermission();
            }
        } else {
            // User not logged in
            if (notificationCount) notificationCount.textContent = '0';
            if (notificationsList) {
                notificationsList.innerHTML = `
                    <div class="notification-item">
                        <div class="notification-message">Please login to see notifications</div>
                    </div>
                `;
            }
        }
    });

    // Test click handler
    if (notificationsBell) {
        notificationsBell.addEventListener('click', function() {
            console.log('Bell clicked - test successful');
        });
    }
});

// Make viewNotification available globally
window.viewNotification = viewNotification;
</script>
  </body>
</html>
